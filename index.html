<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Resistance Zero â€“ POC</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="app-header">
      <h1>Resistance Zero</h1>
      <div class="guidance" id="guidanceBar">
        Welcome! Choose a mode to get started.
      </div>
    </header>

    <main class="app">
      <section class="modes">
        <button class="mode-button" data-mode="list">List Building</button>
        <button class="mode-button" data-mode="scan">Scanning</button>
        <button class="mode-button" data-mode="action">Action</button>
        <button class="mode-button" data-mode="maintain">Maintenance</button>
        <button class="mode-button" data-mode="reflect">Reflection</button>
      </section>

      <section class="content">
        <div id="listMode" class="mode-panel">
          <div class="quick-add">
            <input type="text" id="taskText" placeholder="Add a task..." class="quick-task-input" />
            <button type="button" id="quickAddBtn" class="quick-add-btn">+</button>
          </div>

          <div class="task-list-view">
            <ul id="listPreview" class="task-list-items"></ul>
          </div>

          <div class="scan-direction-setting">
            <label>
              Scan Direction
              <select id="scanDirectionSelect">
                <option value="forward">Forward (first to last)</option>
                <option value="backward">Backward (last to first)</option>
              </select>
            </label>
          </div>

          <div id="expandedForm" class="expanded-form hidden">
            <form id="taskForm" class="task-form-compact">
              <input type="hidden" id="pendingTaskText" />
              <label>
                Resistance (0-10)
                <input type="number" id="taskResistance" min="0" max="10" />
              </label>
              <label>
                Level
                <select id="taskLevel">
                  <option value="unspecified">Unspecified</option>
                  <option value="project">Project</option>
                  <option value="step">Step</option>
                  <option value="meta">Meta</option>
                </select>
              </label>
              <label>
                Notes
                <textarea id="taskNotes" rows="2" placeholder="Optional context or links"></textarea>
              </label>
              <div class="form-actions">
                <button type="submit" class="save-btn">Save</button>
                <button type="button" id="cancelForm" class="cancel-btn">Cancel</button>
              </div>
            </form>
          </div>
        </div>

        <div id="scanMode" class="mode-panel hidden">
          <div id="scanStart" class="scan-start">
            <div class="scan-instructions">
              <h2>Ready to scan?</h2>
              <p>Go through each task quickly and dot what feels effortless.</p>
            </div>
            <button id="beginScanBtn" class="big-scan-button">Start Scanning</button>
          </div>

          <div id="scanProgress" class="scan-progress hidden">
            <div class="scan-header">
              <span id="scanCounter">0 / 0</span>
              <button id="finishScan" class="finish-scan-btn">Finish</button>
            </div>

            <div id="currentTask" class="current-task"></div>

            <div class="scan-actions">
              <button id="skipTask" class="scan-btn secondary">Skip</button>
              <button id="dotTask" class="scan-btn primary">Dot</button>
            </div>

            <div id="recentTasks" class="recent-tasks">
              <div class="recent-header">Recent scans:</div>
              <div id="recentTasksList" class="recent-tasks-list"></div>
            </div>
          </div>
        </div>

        <div id="actionMode" class="mode-panel hidden">
          <h2>Act on dotted tasks</h2>
          <p class="mode-tip">Take a small step, log time if useful, then confirm what happened.</p>
          <div id="actionList" class="task-list"></div>
        </div>

        <div id="maintainMode" class="mode-panel hidden">
          <h2>Maintenance</h2>
          <p class="mode-tip">Delete what no longer belongs. Archived tasks stay visible in Reflection.</p>
          <div id="maintenanceList" class="task-list"></div>
        </div>

        <div id="reflectMode" class="mode-panel hidden">
          <h2>Reflection</h2>
          <div class="reflection-insights">
            <div class="insight" id="insightScans">Scans today: 0</div>
            <div class="insight" id="insightDots">Tasks dotted today: 0</div>
            <div class="insight" id="insightMinutes">Minutes logged: 0</div>
          </div>
          <div class="reflection-lists">
            <div>
              <h3>Completed</h3>
              <ul id="completedList"></ul>
            </div>
            <div>
              <h3>Archived</h3>
              <ul id="archivedList"></ul>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="app-footer">
      <div id="metrics">
        <span id="metricTotalTasks">Total Tasks: 0</span>
        <span id="metricDotted">Dotted: 0</span>
        <span id="metricActive">Active: 0</span>
      </div>
      <div id="coachTips">Scanning chips away resistance. Keep passing through!</div>
    </footer>

    <script src="app.js"></script>
  </body>
</html>
